{
  "projectName": "my-first-project",
  "authorName": "冰川（陳威達）",
  "htmlContent": "<!DOCTYPE html>\n<html lang=\"zh-Hant\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n  <title>番茄鐘｜Pomodoro</title>\n  <meta name=\"description\" content=\"簡潔、現代、單檔版番茄鐘。支援短/長休息、彈窗設定、自動下一段、快捷鍵與圓形進度環。\" />\n  <style>\n    :root{--card-bg:rgba(255,255,255,.7);--card-border:rgba(255,255,255,.5);--text:#0f172a;--muted:#475569;--btn:#111827;--btn-text:#fff;--ring-bg:rgba(255,255,255,.55);--shadow:0 10px 30px rgba(0,0,0,.12)}\n    @media (prefers-color-scheme: dark){:root{--card-bg:rgba(17,24,39,.55);--card-border:rgba(255,255,255,.08);--text:#e5e7eb;--muted:#94a3b8;--btn:#e5e7eb;--btn-text:#111827;--ring-bg:rgba(255,255,255,.15);--shadow:0 10px 30px rgba(0,0,0,.35)}}\n    body.work{--grad1:#ffecd2;--grad2:#fcb69f;--accent:#f97316;--accent-weak:#fdba74}\n    body.break{--grad1:#d4fc79;--grad2:#96e6a1;--accent:#10b981;--accent-weak:#6ee7b7}\n    body.long{--grad1:#cfd9df;--grad2:#e2ebf0;--accent:#6366f1;--accent-weak:#a5b4fc}\n    *{box-sizing:border-box}\n    html,body{height:100%}\n    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans TC',PingFangTC,'Heiti TC','Microsoft JhengHei',sans-serif;background:linear-gradient(135deg,var(--grad1),var(--grad2));color:var(--text);display:grid;place-items:center;transition:background .6s ease}\n    .app{width:min(920px,92vw);margin:28px auto;padding:28px;background:var(--card-bg);border:1px solid var(--card-border);border-radius:24px;box-shadow:var(--shadow);backdrop-filter:blur(10px)}\n    header{display:flex;align-items:center;justify-content:space-between;gap:12px}\n    header h1{font-size:clamp(20px,2.4vw,28px);margin:0;letter-spacing:.5px}\n    header .sub{color:var(--muted);font-size:13px}\n    .grid{display:grid;grid-template-columns:1fr 480px;gap:28px}\n    @media (max-width:860px){.grid{grid-template-columns:1fr}}\n    .dial{position:relative;aspect-ratio:1/1;width:100%;max-width:480px;margin-inline:auto;display:grid;place-items:center}\n    .dial svg{position:absolute;inset:0}\n    .dial .bg{stroke:var(--ring-bg)}\n    .dial .fg{stroke:var(--accent);transition:stroke-dashoffset .2s linear,stroke .3s ease;filter:drop-shadow(0 6px 10px rgba(0,0,0,.12))}\n    .time{font-size:clamp(40px,7vw,72px);font-weight:700;letter-spacing:1px}\n    .mode-pill{display:inline-block;margin-top:6px;padding:6px 12px;border-radius:999px;font-size:12px;background:var(--accent-weak);color:#111827}\n    .controls{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:18px}\n    button{appearance:none;border:1px solid transparent;background:var(--btn);color:var(--btn-text);padding:10px 16px;border-radius:14px;font-weight:600;letter-spacing:.2px;cursor:pointer;transition:transform .06s ease,opacity .2s ease,background .2s ease}\n    button:hover{transform:translateY(-1px)}\n    button:active{transform:translateY(0);opacity:.95}\n    .btn-ghost{background:transparent;color:var(--text);border-color:var(--card-border)}\n    .btn-accent{background:var(--accent);color:#111827}\n    .modes{display:flex;gap:10px;flex-wrap:wrap}\n    .modes button{background:transparent;color:var(--text);border:1px solid var(--card-border)}\n    .modes button.active{background:var(--accent);color:#111827;border-color:transparent}\n    .stats{display:flex;flex-wrap:wrap;gap:14px;font-size:13px;color:var(--muted)}\n    .stat{display:flex;gap:6px;align-items:center}\n    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.25);backdrop-filter:blur(4px);z-index:50}\n    .modal.open{display:grid}\n    .modal-card{width:min(520px,92vw);background:var(--card-bg);border:1px solid var(--card-border);border-radius:20px;box-shadow:var(--shadow);padding:18px}\n    .modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}\n    .modal-title{font-weight:700}\n    .modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}\n    .field{display:flex;flex-direction:column;gap:6px;margin-bottom:10px}\n    .field label{font-size:12px;color:var(--muted)}\n    .field input[type=number]{padding:10px 12px;border-radius:12px;border:1px solid var(--card-border);background:transparent;color:var(--text);font-size:14px}\n    .field input[type=number]:focus{outline:2px solid var(--accent);border-color:var(--accent)}\n  </style>\n</head>\n<body class=\"work\">\n  <div class=\"app\">\n    <header>\n      <div>\n        <h1>番茄鐘</h1>\n        <div class=\"sub\">工作 25 分鐘 · 短休 5 分鐘 · 長休 15 分鐘</div>\n      </div>\n      <div class=\"stats\">\n        <div class=\"stat\">今日完成 <strong id=\"statToday\">0</strong></div>\n        <div class=\"stat\">累計完成 <strong id=\"statTotal\">0</strong></div>\n      </div>\n      <button id=\"btnOpenSettings\" class=\"btn-ghost\" aria-haspopup=\"dialog\">設定</button>\n    </header>\n    <div class=\"grid\">\n      <section>\n        <div class=\"dial\" aria-label=\"倒數計時\">\n          <svg viewBox=\"0 0 220 220\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\">\n            <circle class=\"bg\" cx=\"110\" cy=\"110\" r=\"100\" fill=\"none\" stroke-width=\"16\" stroke-linecap=\"round\" />\n            <circle class=\"fg\" cx=\"110\" cy=\"110\" r=\"100\" fill=\"none\" stroke-width=\"16\" stroke-linecap=\"round\" stroke-dasharray=\"628\" stroke-dashoffset=\"0\" transform=\"rotate(-90 110 110)\" />\n          </svg>\n          <div class=\"center\">\n            <div class=\"time\" id=\"time\">25:00</div>\n            <div class=\"mode-pill\" id=\"modePill\">工作中</div>\n            <div class=\"controls\" role=\"group\" aria-label=\"計時控制\">\n              <button id=\"btnStart\" class=\"btn-accent\">開始</button>\n              <button id=\"btnPause\" class=\"btn-ghost\" disabled>暫停</button>\n              <button id=\"btnReset\" class=\"btn-ghost\">重置</button>\n              <button id=\"btnSkip\" class=\"btn-ghost\" title=\"跳到下一段\">跳過</button>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section>\n        <div class=\"row\" style=\"justify-content:space-between;align-items:center;\">\n          <div class=\"modes\" role=\"tablist\" aria-label=\"模式\">\n            <button role=\"tab\" data-mode=\"work\" class=\"active\">工作</button>\n            <button role=\"tab\" data-mode=\"break\">短休息</button>\n            <button role=\"tab\" data-mode=\"long\">長休息</button>\n          </div>\n        </div>\n        <footer style=\"margin-top:20px;text-align:left;\">快捷鍵：<kbd>Space</kbd> 開始/暫停、<kbd>R</kbd> 重置、<kbd>N</kbd> 跳過、<kbd>1</kbd>/<kbd>2</kbd>/<kbd>3</kbd> 切換模式</footer>\n      </section>\n    </div>\n  </div>\n  <div class=\"modal\" id=\"settingsModal\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"settingsTitle\">\n    <div class=\"modal-card\" role=\"document\">\n      <div class=\"modal-header\">\n        <div class=\"modal-title\" id=\"settingsTitle\">設定</div>\n        <button id=\"btnCloseSettings\" class=\"btn-ghost\" aria-label=\"關閉\">關閉</button>\n      </div>\n      <div class=\"settings-grid\">\n        <div class=\"field\"><label for=\"workInput\">工作（分鐘）</label><input id=\"workInput\" type=\"number\" min=\"1\" max=\"180\"></div>\n        <div class=\"field\"><label for=\"shortInput\">短休息（分鐘）</label><input id=\"shortInput\" type=\"number\" min=\"1\" max=\"60\"></div>\n        <div class=\"field\"><label for=\"longInput\">長休息（分鐘）</label><input id=\"longInput\" type=\"number\" min=\"1\" max=\"120\"></div>\n      </div>\n      <div class=\"modal-actions\">\n        <button id=\"btnSaveSettings\" class=\"btn-accent\">儲存</button>\n      </div>\n    </div>\n  </div>\n  <script>\n    ;(()=>{\n      const $=s=>document.querySelector(s), $$=s=>Array.from(document.querySelectorAll(s));\n      const elTime=$('#time'), elPill=$('#modePill'), elStart=$('#btnStart'), elPause=$('#btnPause'), elReset=$('#btnReset'), elSkip=$('#btnSkip'), elFg=document.querySelector('.fg'), modeTabs=$$('.modes [data-mode]');\n      const openSettingsBtn=$('#btnOpenSettings'), settingsModal=$('#settingsModal'), closeSettingsBtn=$('#btnCloseSettings'), saveSettingsBtn=$('#btnSaveSettings'), inputWork=$('#workInput'), inputShort=$('#shortInput'), inputLong=$('#longInput');\n      const CIRC=2*Math.PI*100; elFg.setAttribute('stroke-dasharray',String(CIRC));\n      const settings={work:25*60,short:5*60,long:15*60};\n      const state={mode:'work',remaining:settings.work,running:false};\n      let timer=null, endAt=null;\n      const fmt=sec=>{sec=Math.max(0,Math.round(sec));const m=Math.floor(sec/60),s=sec%60;return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`};\n      const modeLabel=m=>m==='work'?'工作中':(m==='break'?'短休息':'長休息');\n      const modeDur=m=>m==='work'?settings.work:(m==='break'?settings.short:settings.long);\n      const setProgress=(remain,total)=>{elFg.style.strokeDashoffset=String(CIRC*(1-remain/total))};\n      function themeByMode(mode){document.body.classList.remove('work','break','long');document.body.classList.add(mode==='break'?'break':mode)}\n      function setMode(mode,keepRemain=false){state.mode=mode;elPill.textContent=modeLabel(mode);themeByMode(mode);modeTabs.forEach(b=>b.classList.toggle('active',b.dataset.mode===mode));if(!keepRemain)state.remaining=modeDur(mode);updateUI()}\n      function updateUI(){elTime.textContent=fmt(state.remaining);document.title=`${fmt(state.remaining)}｜番茄鐘`;setProgress(state.remaining,modeDur(state.mode));elStart.disabled=state.running;elPause.disabled=!state.running}\n      function startTimer(){if(state.running)return;state.running=true;endAt=Date.now()+state.remaining*1000;clearInterval(timer);timer=setInterval(tick,250);updateUI()}\n      function pauseTimer(){if(!state.running)return;state.running=false;clearInterval(timer);timer=null;state.remaining=Math.max(0,Math.round((endAt-Date.now())/1000));endAt=null;updateUI()}\n      function resetTimer(){pauseTimer();state.remaining=modeDur(state.mode);updateUI()}\n      function tick(){const remain=Math.max(0,Math.round((endAt-Date.now())/1000));if(remain!==state.remaining){state.remaining=remain;updateUI()}if(remain<=0){pauseTimer();nextSegment()}}\n      function nextSegment(){if(state.mode==='work')setMode('break');else setMode('work');startTimer()}\n      elStart.addEventListener('click',startTimer);elPause.addEventListener('click',pauseTimer);elReset.addEventListener('click',resetTimer);elSkip.addEventListener('click',()=>{pauseTimer();nextSegment()});\n      modeTabs.forEach(btn=>btn.addEventListener('click',()=>{pauseTimer();setMode(btn.dataset.mode)}));\n      window.addEventListener('keydown',e=>{const tag=(e.target&&e.target.tagName)||'';if(['INPUT','TEXTAREA','SELECT'].includes(tag))return;if(e.code==='Space'){e.preventDefault();state.running?pauseTimer():startTimer()}else if(e.key==='r'||e.key==='R'){resetTimer()}else if(e.key==='n'||e.key==='N'){pauseTimer();nextSegment()}else if(e.key==='1'){pauseTimer();setMode('work')}else if(e.key==='2'){pauseTimer();setMode('break')}else if(e.key==='3'){pauseTimer();setMode('long')}});\n      function openModal(){inputWork.value=Math.round(settings.work/60);inputShort.value=Math.round(settings.short/60);inputLong.value=Math.round(settings.long/60);settingsModal.classList.add('open');setTimeout(()=>inputWork.focus(),0)}\n      function closeModal(){settingsModal.classList.remove('open')}\n      openSettingsBtn.addEventListener('click',openModal);closeSettingsBtn.addEventListener('click',closeModal);settingsModal.addEventListener('click',e=>{if(e.target===settingsModal)closeModal()});window.addEventListener('keydown',e=>{if(e.key==='Escape'&&settingsModal.classList.contains('open'))closeModal()});\n      saveSettingsBtn.addEventListener('click',()=>{settings.work=Math.max(1,+inputWork.value|0)*60;settings.short=Math.max(1,+inputShort.value|0)*60;settings.long=Math.max(1,+inputLong.value|0)*60;state.remaining=modeDur(state.mode);updateUI();closeModal()});\n      setMode('work');\n    })();\n  </script>\n</body>\n</html>\n",
  "createdAt": "2025-08-27T09:00:51.526Z"
}